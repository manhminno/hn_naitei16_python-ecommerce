{% load i18n %}
{% load static %}

<nav class="navbar navbar-expand-lg navbar-default navbar-fixed-top">
    <div class="container">
        <a href="/"> <img src="{% static "img/logo.png" %}" height="30px"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav navbar-right">
                <li class="nav-item">
                    <a class="nav-link" href="/">
                        {% trans "Home" %}
                        <span class="sr-only">(current)</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="shop">{% trans "Shop" %}</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">{% trans "About" %}</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">{% trans "Contact" %}</a>
                </li>
                {% if user.is_authenticated %}
                    <li class="dropdown ">
                        <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> {{ user.username }}<span ></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="{% url 'shop:wishlist' %}" ><span class="glyphicon glyphicon-heart" aria-hidden="true"></span>{% trans " Your wishlist" %}&nbsp&nbsp&nbsp&nbsp&nbsp<span style="font-weight:bold">{{user.user_wishlist.count}}</span></a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="{% url 'shop:detail-profile' %}" ><span class="glyphicon glyphicon-cog" aria-hidden="true"></span>{% trans " User settings" %}</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="{% url 'shop:change-password' %}"><span class="glyphicon glyphicon-repeat" aria-hidden="true"></span>{% trans " Change password" %}</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="{% url 'shop:logout' %}?next=/"><span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>{% trans " Logout" %}</a></li>
                        </ul>
                    </li>
                    {% if user.is_staff %}
                        <li>
                            <a class="dropdown-item" href="{% url 'shop:all_order_manage' %}"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span>{% trans " Shop management" %}</a></li>
                        </li>
                    {% else %}
                        &nbsp&nbsp
                        <li class="dropdown">
                            <p></p>
                            <a id="dropdownMenuButton" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <img src='/static/img/cart.png'>
                            </a>
                            <ul class="dropdown-menu" >
                                <li><a class="dropdown-item" href="{% url 'shop:cart_detail' %}"><span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span>{% trans " Order" %}</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a class="dropdown-item" href="{% url 'shop:payment_detail' %}"><span class="glyphicon glyphicon-hourglass" aria-hidden="true"></span>{% trans " Waiting Order" %}</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a class="dropdown-item" href="{% url 'shop:cancel_order_detail' %}"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span>{% trans " Canceled Order" %}</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a class="dropdown-item" href="{% url 'shop:history_order' %}"><span class="glyphicon glyphicon-check" aria-hidden="true"></span>{% trans " History Order" %}</a></li>
                            </ul>
                        </li>
                    {% endif %}
                {% else %}
                    <li class="nav-item">
                        <a href="{% url 'shop:signup' %}" class="nav-link">
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>&nbsp;{% trans "Register" %}
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'login' %}" class="nav-link">
                            <span class="glyphicon glyphicon-log-in" aria-hidden="true"></span>&nbsp;{% trans "Login" %}
                        </a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>
